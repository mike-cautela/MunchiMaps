<!DOCTYPE html>
<html>
<head>
  <link rel="icon" type="image/x-icon" href="https://github.com/mike-cautela/MunchiMaps/blob/main/MunchiMaps%20Assets/CookieFavicon.png?raw=true">
 
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="MunchiMaps_stylesheet.css" />
  <link rel="stylesheet" href="Location_Style_Sheet.css" />
  <link rel="stylesheet" href="loading_animation_stylesheet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js" ></script>

  
</head>
<body>
  <div class="logo-title">
    <img src="https://github.com/mike-cautela/MunchiMaps/blob/main/MunchiMaps%20Assets/MunchiMaps%20Logos/MunchiMapsCroppedLogo.png?raw=true" alt="MunchiMaps">
  </div>
   <!-- Add the help button -->
  <div class="help-button" onclick="openHelp()">
    <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/help-circle-grey.svg" alt="Help" class="help-button-img">
  </div>
  <div id="map-container">
    <div id="map"></div>
  </div>

  <!-- Add the help popup -->
  <div id="help-popup" class="help-popup">
    <div class="help-content">
      <span class="close" onclick="closeHelp()">&times;</span>
      <h2>How to Use MunchiMaps:</h2>
      <p>Look at the MunchiMap to find the nearest Vending Machine near you!</p>
      <p>Make sure to check to see if the machine sells Snacks and/or drinks</p>
      <p>add logo icons and explain each one???</p>
    </div>
  </div>

    <div id="popup-search" class="popup-container">
    <div class="popup">
        <div class = "search-bar">
          <input type ="search" id="searchInput">
          <div id="searchResult" class="result"></div>
        </div>
        <script>
          //Temporary buildings list 
          var buildings = [
                  {name: 'Folsom Library', drink: true, food: true},
                  {name: 'Sharp Hall', drink: true, food: true},
                  {name: 'Rensselaer Student Union', drink: true, food: true},
                  {name: 'Quadrangle Complex', drink: true, food: false},
                  {name: 'Darrin Communication Center', drink: true, food: true},
                  {name: 'Woorhees Computing Center', drink: true, food: true},
                  {name: 'Amos Eaton Hall', drink: true, food: false},
                  {name: 'Mueller Center', drink: true, food: true},
                  {name: 'j Erik Jonsson Engineering Center', drink: true, food: true},
                  {name: 'Russell Sage Laboratory', drink: true, food: true},
                  {name: 'Jonsson-Rowland Science Center', drink: true, food: true},
                  {name: 'Pittsburgh Building', drink: true, food: true},
                  {name: 'Warren Hall', drink: true, food: false},
                  {name: 'Greene Building', drink: true, food: true},
                  {name: 'Davison Hall', drink: true, food: false},
                  {name: 'RPI Public Safety', drink: true, food: false},
                  {name: 'North Hall', drink: true, food: true},
                  {name: 'West Hall', drink: true, food: false}
          ];
          
          //Building sort
          buildings.sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()));
          console.log(buildings);
        
          //Search function 
          function search(){
              var searchTerm = document.getElementById('searchInput').value.trim().toLowerCase();
              var filtered = [];
  
              buildings.forEach(function(building){
                  if(filter(building, searchTerm)){
                      filtered.push(building);
                  }
              });
  
              displayResults(filtered);
          }
  
          //Filter through the list
          function filter(item, searchTerm){
              return item.name.toLowerCase().startsWith(searchTerm);
          }
  
          //Display results
          function displayResults(results){
              var resultContainer = document.getElementById('searchResult');
              resultContainer.innerHTML = '';
              
              if (results.length > 0) {
                  var resultList = document.createElement('ul');
                  
                  results.forEach(function(item) {
                      var listItem = document.createElement('li');
                      listItem.textContent = item.name;
                      resultList.appendChild(listItem);
                  });
                  
                  resultContainer.appendChild(resultList);
              } 
              else {
                  resultContainer.textContent = 'No results found';
              }
          }
  
          document.getElementById('searchInput').addEventListener('input', search);
        </script>
        <div class="popup-close" onclick="closePopup('Search')">X</div>
    </div>
  </div>
  <div id="popup-report" class="popup-container">
    <div class="popup">
      <div>Report</div>
      <div class="popup-close" onclick="closePopup('Report')">X</div>
    </div>
  </div>
  <div id="popup-review" class="popup-container">
    <div class="popup">
      <div>Review</div>
      <div class="popup-close" onclick="closePopup('Review')">X</div>
    </div>
  </div>
    
  <script>

  </script>

   <div id="buttons-container">
    <!---- Contains all buttons at bottom of screen -->
      <button class="button" onclick="openPopup('Search')">
        <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/search-grey.svg" alt="Search" class="button-img">
      </button>
      
      <button class="button" onclick="openPopup('Report')">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/alert-triangle-grey.svg" alt="Report" class="button-img">
      </button>
      <button class="button" onclick="openPopup('Review')">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/smile-grey.svg" alt="Review" class="button-img">
      </button>
      <button class="button" id="Location">
         <img src="https://raw.githubusercontent.com/mike-cautela/MunchiMaps/main/MunchiMaps%20Assets/MenuIcons/crosshair-grey.svg" alt="Location" class="button-img">
      </button>
    </div>
</body>
</html>

